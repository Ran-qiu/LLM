# LLM ç»Ÿä¸€ç®¡ç†å¹³å° - å¼€å‘ä»»åŠ¡æ¸…å•

## çŠ¶æ€è¯´æ˜

- â¬œ **æœªå¼€å§‹** - ä»»åŠ¡å°šæœªå¼€å§‹
- ğŸ”„ **è¿›è¡Œä¸­** - ä»»åŠ¡æ­£åœ¨è¿›è¡Œ
- âœ… **å·²å®Œæˆ** - ä»»åŠ¡å·²å®Œæˆ
- âœ”ï¸ **å·²æµ‹è¯•** - ä»»åŠ¡å·²å®Œæˆå¹¶é€šè¿‡æµ‹è¯•

## å…³é”®è§„åˆ™

1. **æ ‡è®°ä¸º"å·²å®Œæˆ"çš„å‰æ**ï¼šä»£ç å®ç°å®Œæˆ
2. **æ ‡è®°ä¸º"å·²æµ‹è¯•"çš„å‰æ**ï¼šå®Œæˆå•å…ƒæµ‹è¯•æˆ–é›†æˆæµ‹è¯•ï¼Œå¹¶é€šè¿‡æµ‹è¯•
3. **ä¾èµ–å…³ç³»**ï¼šæŸäº›ä»»åŠ¡ä¾èµ–å‰ç½®ä»»åŠ¡å®Œæˆ
4. **å…³é”®é‡Œç¨‹ç¢‘**ï¼šç”¨ ğŸ¯ æ ‡è®°ï¼Œå®Œæˆåéœ€è¦è¿›è¡Œå…¨é¢æµ‹è¯•

---

## Phase 1: åŸºç¡€æ¡†æ¶æ­å»ºï¼ˆç¬¬ 1-2 å‘¨ï¼‰

### 1.1 é¡¹ç›®åˆå§‹åŒ–

#### 1.1.1 å‰ç«¯é¡¹ç›®åˆå§‹åŒ– â¬œ
**æè¿°**ï¼šåˆ›å»º React + Vite + TypeScript é¡¹ç›®

**ä»»åŠ¡**ï¼š
- [ ] ä½¿ç”¨ Vite åˆ›å»º React é¡¹ç›®
- [ ] é…ç½® TypeScript
- [ ] å®‰è£… Ant Design UI åº“
- [ ] é…ç½® ESLint å’Œ Prettier
- [ ] é…ç½®è·¯ç”±ï¼ˆReact Router v6ï¼‰
- [ ] åˆ›å»ºåŸºç¡€ç›®å½•ç»“æ„

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] é¡¹ç›®èƒ½æ­£å¸¸å¯åŠ¨ `npm run dev`
- [ ] æ—  TypeScript é”™è¯¯
- [ ] ESLint æ£€æŸ¥é€šè¿‡

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

#### 1.1.2 åç«¯é¡¹ç›®åˆå§‹åŒ– â¬œ
**æè¿°**ï¼šåˆ›å»º FastAPI + Python é¡¹ç›®

**ä»»åŠ¡**ï¼š
- [ ] åˆ›å»º Python è™šæ‹Ÿç¯å¢ƒ
- [ ] å®‰è£… FastAPI å’Œä¾èµ–ï¼ˆä» requirements.txtï¼‰
- [ ] åˆ›å»ºåŸºç¡€ç›®å½•ç»“æ„
- [ ] é…ç½® main.py å…¥å£æ–‡ä»¶
- [ ] é…ç½® CORS ä¸­é—´ä»¶
- [ ] æ·»åŠ è‡ªåŠ¨ç”Ÿæˆ API æ–‡æ¡£

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] åç«¯èƒ½æ­£å¸¸å¯åŠ¨ `uvicorn main:app --reload`
- [ ] è®¿é—® `http://localhost:8000/docs` æ˜¾ç¤º Swagger æ–‡æ¡£
- [ ] CORS é…ç½®æ­£ç¡®ï¼Œå‰ç«¯èƒ½è¯·æ±‚

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

#### 1.1.3 Git å’Œç‰ˆæœ¬æ§åˆ¶é…ç½® â¬œ
**æè¿°**ï¼šé…ç½® Git å’Œ Pre-commit Hooks

**ä»»åŠ¡**ï¼š
- [ ] åˆå§‹åŒ– Git ä»“åº“
- [ ] é…ç½® .gitignore
- [ ] é…ç½® Pre-commit hooks
- [ ] åˆ›å»ºå¼€å‘åˆ†æ”¯ç­–ç•¥

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] .gitignore æ­£ç¡®æ’é™¤æ•æ„Ÿæ–‡ä»¶
- [ ] Pre-commit hooks æ­£å¸¸å·¥ä½œ

**å®Œæˆæ ‡å‡†**ï¼šâœ… å·²å®Œæˆ

---

### 1.2 æ•°æ®åº“è®¾è®¡ä¸å®ç°

#### 1.2.1 åˆ›å»º SQLAlchemy æ¨¡å‹ â¬œ
**æè¿°**ï¼šå®ç°æ‰€æœ‰æ•°æ®åº“æ¨¡å‹

**ä»»åŠ¡**ï¼š
- [ ] åˆ›å»º User æ¨¡å‹ï¼ˆç”¨æˆ·è¡¨ï¼‰
- [ ] åˆ›å»º APIKey æ¨¡å‹ï¼ˆAPI å¯†é’¥è¡¨ï¼Œæ”¯æŒè‡ªå®šä¹‰å­—æ®µï¼‰
- [ ] åˆ›å»º Conversation æ¨¡å‹ï¼ˆå¯¹è¯è¡¨ï¼‰
- [ ] åˆ›å»º Message æ¨¡å‹ï¼ˆæ¶ˆæ¯è¡¨ï¼‰
- [ ] é…ç½®æ¨¡å‹å…³ç³»ï¼ˆå¤–é”®ã€ç´¢å¼•ï¼‰

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] æ‰€æœ‰æ¨¡å‹å®šä¹‰æ­£ç¡®
- [ ] å¤–é”®å…³ç³»æ­£ç¡®
- [ ] ç´¢å¼•åˆ›å»ºæˆåŠŸ

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š
```
backend/app/models/
â”œâ”€â”€ user.py
â”œâ”€â”€ api_key.py
â”œâ”€â”€ conversation.py
â””â”€â”€ message.py
```

---

#### 1.2.2 åˆ›å»ºæ•°æ®åº“è¿ç§»è„šæœ¬ â¬œ
**æè¿°**ï¼šä½¿ç”¨ Alembic åˆ›å»ºè¿ç§»

**ä¾èµ–**ï¼š1.2.1 âœ”ï¸

**ä»»åŠ¡**ï¼š
- [ ] é…ç½® Alembic
- [ ] ç”Ÿæˆåˆå§‹è¿ç§»è„šæœ¬
- [ ] åˆ›å»ºæµ‹è¯•æ•°æ®ç§å­è„šæœ¬

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] è¿ç§»è„šæœ¬èƒ½æˆåŠŸè¿è¡Œ
- [ ] æ•°æ®åº“è¡¨æ­£ç¡®åˆ›å»º
- [ ] ç§å­æ•°æ®æ­£ç¡®æ’å…¥

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

#### 1.2.3 åˆ›å»º Pydantic Schema â¬œ
**æè¿°**ï¼šå®šä¹‰ API è¯·æ±‚/å“åº”æ¨¡å‹

**ä»»åŠ¡**ï¼š
- [ ] UserSchemaï¼ˆåˆ›å»ºã€æ›´æ–°ã€å“åº”ï¼‰
- [ ] APIKeySchemaï¼ˆæ”¯æŒè‡ªå®šä¹‰æ¨¡å‹é…ç½®ï¼‰
- [ ] ConversationSchema
- [ ] MessageSchema
- [ ] LLMSchemaï¼ˆå‚å•†ã€æ¨¡å‹é…ç½®ï¼‰

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] Schema éªŒè¯æ­£ç¡®
- [ ] ç±»å‹æ£€æŸ¥é€šè¿‡

**å®Œæˆæ ‡å‡†**ï¼šâœ… å·²å®Œæˆ

**æ–‡ä»¶ä½ç½®**ï¼š
```
backend/app/schemas/
â”œâ”€â”€ user.py
â”œâ”€â”€ api_key.py
â”œâ”€â”€ conversation.py
â”œâ”€â”€ message.py
â””â”€â”€ llm.py
```

---

### 1.3 åŸºç¡€é…ç½®

#### 1.3.1 ç¯å¢ƒå˜é‡ç®¡ç† â¬œ
**æè¿°**ï¼šé…ç½®ç¯å¢ƒå˜é‡å’Œé…ç½®ç®¡ç†

**ä»»åŠ¡**ï¼š
- [ ] åˆ›å»º .env.example æ–‡ä»¶
- [ ] å®ç° config.py é…ç½®ç±»
- [ ] é…ç½®æ•°æ®åº“è¿æ¥
- [ ] é…ç½® JWT å¯†é’¥
- [ ] é…ç½® n8n å’Œ Ollama URL

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] ç¯å¢ƒå˜é‡æ­£ç¡®åŠ è½½
- [ ] é…ç½®ç±»æ­£å¸¸å·¥ä½œ

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`backend/app/core/config.py`

---

#### 1.3.2 æ—¥å¿—ç³»ç»Ÿé…ç½® â¬œ
**æè¿°**ï¼šé…ç½®åº”ç”¨æ—¥å¿—

**ä»»åŠ¡**ï¼š
- [ ] é…ç½®æ—¥å¿—æ ¼å¼
- [ ] é…ç½®æ—¥å¿—çº§åˆ«
- [ ] é…ç½®æ—¥å¿—æ–‡ä»¶è¾“å‡º
- [ ] æ·»åŠ è¯·æ±‚æ—¥å¿—ä¸­é—´ä»¶

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] æ—¥å¿—æ­£ç¡®è¾“å‡ºåˆ°æ–‡ä»¶å’Œæ§åˆ¶å°
- [ ] æ—¥å¿—æ ¼å¼æ­£ç¡®

**å®Œæˆæ ‡å‡†**ï¼šâœ… å·²å®Œæˆ

**æ–‡ä»¶ä½ç½®**ï¼š`backend/app/utils/logger.py`

---

#### 1.3.3 CORS å’Œå®‰å…¨é…ç½® â¬œ
**æè¿°**ï¼šé…ç½®è·¨åŸŸå’Œå®‰å…¨ç­–ç•¥

**ä»»åŠ¡**ï¼š
- [ ] é…ç½® CORS å…è®¸çš„æº
- [ ] é…ç½®å®‰å…¨å¤´
- [ ] é…ç½® Rate Limiting

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] å‰ç«¯èƒ½æ­£å¸¸è¯·æ±‚åç«¯
- [ ] CORS ç­–ç•¥ç”Ÿæ•ˆ
- [ ] Rate Limiting æ­£å¸¸å·¥ä½œ

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

### ğŸ¯ Milestone 1: åŸºç¡€æ¡†æ¶å®Œæˆ
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] å‰åç«¯é¡¹ç›®èƒ½æ­£å¸¸å¯åŠ¨
- [ ] æ•°æ®åº“è¡¨åˆ›å»ºæˆåŠŸ
- [ ] åŸºç¡€é…ç½®æ­£ç¡®
- [ ] æ— æ˜æ˜¾é”™è¯¯å’Œè­¦å‘Š

---

## Phase 2: ç”¨æˆ·è®¤è¯ç³»ç»Ÿï¼ˆç¬¬ 3 å‘¨ï¼‰

### 2.1 åç«¯è®¤è¯å®ç°

#### 2.1.1 JWT å·¥å…·å‡½æ•° â¬œ
**æè¿°**ï¼šå®ç° JWT Token ç”Ÿæˆå’ŒéªŒè¯

**ä»»åŠ¡**ï¼š
- [ ] å®ç° create_access_token()
- [ ] å®ç° create_refresh_token()
- [ ] å®ç° verify_token()
- [ ] å®ç° get_current_user() ä¾èµ–

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] å•å…ƒæµ‹è¯•ï¼šToken ç”Ÿæˆæ­£ç¡®
- [ ] å•å…ƒæµ‹è¯•ï¼šToken éªŒè¯æ­£ç¡®
- [ ] å•å…ƒæµ‹è¯•ï¼šè¿‡æœŸ Token è¢«æ‹’ç»

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`backend/app/core/security.py`

---

#### 2.1.2 å¯†ç åŠ å¯†å·¥å…· â¬œ
**æè¿°**ï¼šå®ç°å¯†ç  hash å’ŒéªŒè¯

**ä»»åŠ¡**ï¼š
- [ ] å®ç° hash_password()
- [ ] å®ç° verify_password()
- [ ] ä½¿ç”¨ bcryptï¼Œè½®æ¬¡è®¾ä¸º 12

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] å•å…ƒæµ‹è¯•ï¼šå¯†ç æ­£ç¡® hash
- [ ] å•å…ƒæµ‹è¯•ï¼šå¯†ç éªŒè¯æ­£ç¡®

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`backend/app/core/security.py`

---

#### 2.1.3 ç”¨æˆ·æ³¨å†Œæ¥å£ â¬œ
**æè¿°**ï¼šå®ç° POST /api/auth/register

**ä¾èµ–**ï¼š2.1.2 âœ”ï¸

**ä»»åŠ¡**ï¼š
- [ ] å®ç°æ³¨å†Œè·¯ç”±
- [ ] éªŒè¯ç”¨æˆ·å/é‚®ç®±å”¯ä¸€æ€§
- [ ] å¯†ç å¼ºåº¦éªŒè¯
- [ ] åˆ›å»ºç”¨æˆ·å¹¶è¿”å›ä¿¡æ¯

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] é›†æˆæµ‹è¯•ï¼šæˆåŠŸæ³¨å†Œç”¨æˆ·
- [ ] é›†æˆæµ‹è¯•ï¼šé‡å¤ç”¨æˆ·åè¢«æ‹’ç»
- [ ] é›†æˆæµ‹è¯•ï¼šå¼±å¯†ç è¢«æ‹’ç»

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`backend/app/api/auth.py`

---

#### 2.1.4 ç”¨æˆ·ç™»å½•æ¥å£ â¬œ
**æè¿°**ï¼šå®ç° POST /api/auth/login

**ä¾èµ–**ï¼š2.1.1 âœ”ï¸, 2.1.2 âœ”ï¸

**ä»»åŠ¡**ï¼š
- [ ] å®ç°ç™»å½•è·¯ç”±
- [ ] éªŒè¯ç”¨æˆ·åå’Œå¯†ç 
- [ ] ç”Ÿæˆå¹¶è¿”å› JWT Token
- [ ] å®ç°ç™»å½•å¤±è´¥é™åˆ¶

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] é›†æˆæµ‹è¯•ï¼šæ­£ç¡®å‡­æ®ç™»å½•æˆåŠŸ
- [ ] é›†æˆæµ‹è¯•ï¼šé”™è¯¯å¯†ç ç™»å½•å¤±è´¥
- [ ] é›†æˆæµ‹è¯•ï¼šä¸å­˜åœ¨çš„ç”¨æˆ·ç™»å½•å¤±è´¥

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`backend/app/api/auth.py`

---

#### 2.1.5 Token åˆ·æ–°æ¥å£ â¬œ
**æè¿°**ï¼šå®ç° POST /api/auth/refresh

**ä¾èµ–**ï¼š2.1.1 âœ”ï¸

**ä»»åŠ¡**ï¼š
- [ ] å®ç° Token åˆ·æ–°è·¯ç”±
- [ ] éªŒè¯ Refresh Token
- [ ] ç”Ÿæˆæ–°çš„ Access Token

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] é›†æˆæµ‹è¯•ï¼šæœ‰æ•ˆ Refresh Token èƒ½è·å–æ–° Access Token
- [ ] é›†æˆæµ‹è¯•ï¼šæ— æ•ˆ Refresh Token è¢«æ‹’ç»

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

#### 2.1.6 ç”¨æˆ·ä¿¡æ¯æ¥å£ â¬œ
**æè¿°**ï¼šå®ç° GET /api/auth/me å’Œ PUT /api/auth/me

**ä¾èµ–**ï¼š2.1.1 âœ”ï¸

**ä»»åŠ¡**ï¼š
- [ ] å®ç°è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- [ ] å®ç°æ›´æ–°ç”¨æˆ·ä¿¡æ¯
- [ ] éœ€è¦è®¤è¯ä¸­é—´ä»¶

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] é›†æˆæµ‹è¯•ï¼šè®¤è¯ç”¨æˆ·èƒ½è·å–è‡ªå·±çš„ä¿¡æ¯
- [ ] é›†æˆæµ‹è¯•ï¼šæœªè®¤è¯ç”¨æˆ·è¢«æ‹’ç»
- [ ] é›†æˆæµ‹è¯•ï¼šèƒ½æ›´æ–°ç”¨æˆ·ä¿¡æ¯

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

### 2.2 å‰ç«¯è®¤è¯é¡µé¢

#### 2.2.1 ç™»å½•é¡µé¢ UI â¬œ
**æè¿°**ï¼šå®ç°ç™»å½•é¡µé¢ç»„ä»¶

**ä»»åŠ¡**ï¼š
- [ ] åˆ›å»º Login.tsx ç»„ä»¶
- [ ] è¡¨å•éªŒè¯ï¼ˆç”¨æˆ·åã€å¯†ç ï¼‰
- [ ] é”™è¯¯æç¤º
- [ ] è®°ä½æˆ‘åŠŸèƒ½

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] UI æµ‹è¯•ï¼šè¡¨å•éªŒè¯æ­£ç¡®
- [ ] UI æµ‹è¯•ï¼šæäº¤è¡¨å•æ­£ç¡®

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`frontend/src/pages/Login.tsx`

---

#### 2.2.2 æ³¨å†Œé¡µé¢ UI â¬œ
**æè¿°**ï¼šå®ç°æ³¨å†Œé¡µé¢ç»„ä»¶

**ä»»åŠ¡**ï¼š
- [ ] åˆ›å»º Register.tsx ç»„ä»¶
- [ ] è¡¨å•éªŒè¯ï¼ˆç”¨æˆ·åã€é‚®ç®±ã€å¯†ç ã€ç¡®è®¤å¯†ç ï¼‰
- [ ] å¯†ç å¼ºåº¦æŒ‡ç¤º
- [ ] é”™è¯¯æç¤º

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] UI æµ‹è¯•ï¼šè¡¨å•éªŒè¯æ­£ç¡®
- [ ] UI æµ‹è¯•ï¼šå¯†ç å¼ºåº¦æ˜¾ç¤ºæ­£ç¡®

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`frontend/src/pages/Register.tsx`

---

#### 2.2.3 è®¤è¯çŠ¶æ€ç®¡ç† â¬œ
**æè¿°**ï¼šå®ç°å…¨å±€è®¤è¯çŠ¶æ€

**ä»»åŠ¡**ï¼š
- [ ] åˆ›å»º authStoreï¼ˆä½¿ç”¨ Zustand æˆ– Reduxï¼‰
- [ ] å®ç° login() action
- [ ] å®ç° logout() action
- [ ] å®ç° Token å­˜å‚¨å’Œè¯»å–
- [ ] å®ç°è‡ªåŠ¨åˆ·æ–° Token

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] å•å…ƒæµ‹è¯•ï¼šçŠ¶æ€æ›´æ–°æ­£ç¡®
- [ ] é›†æˆæµ‹è¯•ï¼šToken è‡ªåŠ¨åˆ·æ–°

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`frontend/src/store/authStore.ts`

---

#### 2.2.4 è·¯ç”±å®ˆå« â¬œ
**æè¿°**ï¼šå®ç°éœ€è¦è®¤è¯çš„è·¯ç”±ä¿æŠ¤

**ä¾èµ–**ï¼š2.2.3 âœ”ï¸

**ä»»åŠ¡**ï¼š
- [ ] åˆ›å»º ProtectedRoute ç»„ä»¶
- [ ] æœªç™»å½•ç”¨æˆ·é‡å®šå‘åˆ°ç™»å½•é¡µ
- [ ] ç™»å½•åé‡å®šå‘åˆ°åŸé¡µé¢

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] é›†æˆæµ‹è¯•ï¼šæœªç™»å½•è®¿é—®å—ä¿æŠ¤é¡µé¢è¢«é‡å®šå‘
- [ ] é›†æˆæµ‹è¯•ï¼šç™»å½•åèƒ½è®¿é—®å—ä¿æŠ¤é¡µé¢

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`frontend/src/components/Auth/ProtectedRoute.tsx`

---

#### 2.2.5 API è¯·æ±‚æ‹¦æˆªå™¨ â¬œ
**æè¿°**ï¼šé…ç½® Axios æ‹¦æˆªå™¨è‡ªåŠ¨æ·»åŠ  Token

**ä¾èµ–**ï¼š2.2.3 âœ”ï¸

**ä»»åŠ¡**ï¼š
- [ ] é…ç½®è¯·æ±‚æ‹¦æˆªå™¨ï¼Œè‡ªåŠ¨æ·»åŠ  Authorization å¤´
- [ ] é…ç½®å“åº”æ‹¦æˆªå™¨ï¼Œå¤„ç† 401 é”™è¯¯
- [ ] å®ç° Token è¿‡æœŸè‡ªåŠ¨åˆ·æ–°

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] é›†æˆæµ‹è¯•ï¼šè¯·æ±‚è‡ªåŠ¨æºå¸¦ Token
- [ ] é›†æˆæµ‹è¯•ï¼š401 é”™è¯¯è‡ªåŠ¨åˆ·æ–° Token

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`frontend/src/utils/request.ts`

---

### ğŸ¯ Milestone 2: ç”¨æˆ·è®¤è¯ç³»ç»Ÿå®Œæˆ
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] ç”¨æˆ·èƒ½æˆåŠŸæ³¨å†Œ
- [ ] ç”¨æˆ·èƒ½æˆåŠŸç™»å½•
- [ ] JWT Token æ­£å¸¸å·¥ä½œ
- [ ] è·¯ç”±å®ˆå«æ­£å¸¸å·¥ä½œ
- [ ] Token è‡ªåŠ¨åˆ·æ–°
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡

---

## Phase 3: LLM é€‚é…å™¨å®ç°ï¼ˆç¬¬ 4-5 å‘¨ï¼‰

### 3.1 é€‚é…å™¨åŸºç±»è®¾è®¡

#### 3.1.1 BaseLLMAdapter åŸºç±» â¬œ
**æè¿°**ï¼šå®ç° LLM é€‚é…å™¨æŠ½è±¡åŸºç±»

**ä»»åŠ¡**ï¼š
- [ ] å®šä¹‰ chat() æŠ½è±¡æ–¹æ³•
- [ ] å®šä¹‰ stream_chat() æŠ½è±¡æ–¹æ³•
- [ ] å®šä¹‰ get_models() æŠ½è±¡æ–¹æ³•
- [ ] å®šä¹‰ validate_config() æŠ½è±¡æ–¹æ³•
- [ ] å®ç°é”™è¯¯å¤„ç†åŸºç¡€é€»è¾‘
- [ ] å®ç°é‡è¯•æœºåˆ¶

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] å•å…ƒæµ‹è¯•ï¼šæŠ½è±¡æ–¹æ³•å®šä¹‰æ­£ç¡®
- [ ] å•å…ƒæµ‹è¯•ï¼šé‡è¯•æœºåˆ¶å·¥ä½œ

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`backend/app/adapters/base.py`

---

### 3.2 ä¸»è¦å‚å•†é€‚é…å™¨

#### 3.2.1 OpenAI é€‚é…å™¨ â¬œ
**æè¿°**ï¼šå®ç° OpenAI API è°ƒç”¨

**ä¾èµ–**ï¼š3.1.1 âœ”ï¸

**ä»»åŠ¡**ï¼š
- [ ] ç»§æ‰¿ BaseLLMAdapter
- [ ] å®ç° chat() æ–¹æ³•
- [ ] å®ç° stream_chat() æ–¹æ³•
- [ ] å®ç° get_models() æ–¹æ³•
- [ ] æ”¯æŒè‡ªå®šä¹‰ base_urlï¼ˆå…¼å®¹ Azure OpenAIï¼‰

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] å•å…ƒæµ‹è¯•ï¼ˆMockï¼‰ï¼šAPI è°ƒç”¨æ­£ç¡®
- [ ] é›†æˆæµ‹è¯•ï¼ˆéœ€è¦çœŸå® API Keyï¼‰ï¼šæˆåŠŸè°ƒç”¨ GPT-3.5
- [ ] é›†æˆæµ‹è¯•ï¼šæµå¼å“åº”æ­£ç¡®

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`backend/app/adapters/openai.py`

---

#### 3.2.2 Anthropic (Claude) é€‚é…å™¨ â¬œ
**æè¿°**ï¼šå®ç° Anthropic Claude API è°ƒç”¨

**ä¾èµ–**ï¼š3.1.1 âœ”ï¸

**ä»»åŠ¡**ï¼š
- [ ] ç»§æ‰¿ BaseLLMAdapter
- [ ] å®ç° chat() æ–¹æ³•
- [ ] å®ç° stream_chat() æ–¹æ³•
- [ ] å®ç° get_models() æ–¹æ³•
- [ ] å¤„ç† Claude ç‰¹æ®Šçš„æ¶ˆæ¯æ ¼å¼

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] å•å…ƒæµ‹è¯•ï¼ˆMockï¼‰ï¼šAPI è°ƒç”¨æ­£ç¡®
- [ ] é›†æˆæµ‹è¯•ï¼ˆéœ€è¦çœŸå® API Keyï¼‰ï¼šæˆåŠŸè°ƒç”¨ Claude

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`backend/app/adapters/claude.py`

---

#### 3.2.3 Google Gemini é€‚é…å™¨ â¬œ
**æè¿°**ï¼šå®ç° Google Gemini API è°ƒç”¨

**ä¾èµ–**ï¼š3.1.1 âœ”ï¸

**ä»»åŠ¡**ï¼š
- [ ] ç»§æ‰¿ BaseLLMAdapter
- [ ] å®ç° chat() æ–¹æ³•
- [ ] å®ç° stream_chat() æ–¹æ³•
- [ ] å®ç° get_models() æ–¹æ³•

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] å•å…ƒæµ‹è¯•ï¼ˆMockï¼‰ï¼šAPI è°ƒç”¨æ­£ç¡®
- [ ] é›†æˆæµ‹è¯•ï¼ˆéœ€è¦çœŸå® API Keyï¼‰ï¼šæˆåŠŸè°ƒç”¨ Gemini

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`backend/app/adapters/gemini.py`

---

#### 3.2.4 Ollama é€‚é…å™¨ â¬œ
**æè¿°**ï¼šå®ç° Ollama æœ¬åœ°æ¨¡å‹è°ƒç”¨

**ä¾èµ–**ï¼š3.1.1 âœ”ï¸

**ä»»åŠ¡**ï¼š
- [ ] ç»§æ‰¿ BaseLLMAdapter
- [ ] å®ç° chat() æ–¹æ³•
- [ ] å®ç° stream_chat() æ–¹æ³•
- [ ] å®ç° get_models() æ–¹æ³•ï¼ˆä» Ollama è·å–ï¼‰
- [ ] å®ç° pull_model() æ–¹æ³•ï¼ˆä¸‹è½½æ¨¡å‹ï¼‰
- [ ] ä¸éœ€è¦ API Key

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] å•å…ƒæµ‹è¯•ï¼ˆMockï¼‰ï¼šAPI è°ƒç”¨æ­£ç¡®
- [ ] é›†æˆæµ‹è¯•ï¼ˆéœ€è¦ Ollama è¿è¡Œï¼‰ï¼šæˆåŠŸè°ƒç”¨æœ¬åœ°æ¨¡å‹
- [ ] é›†æˆæµ‹è¯•ï¼šæ¨¡å‹ä¸‹è½½åŠŸèƒ½æ­£å¸¸

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`backend/app/adapters/ollama.py`

---

#### 3.2.5 è‡ªå®šä¹‰æ¨¡å‹é€‚é…å™¨ â¬œ
**æè¿°**ï¼šå®ç°å…¼å®¹ OpenAI æ ¼å¼çš„è‡ªå®šä¹‰æ¨¡å‹æœåŠ¡

**ä¾èµ–**ï¼š3.1.1 âœ”ï¸

**ä»»åŠ¡**ï¼š
- [ ] ç»§æ‰¿ BaseLLMAdapter
- [ ] æ”¯æŒè‡ªå®šä¹‰ base_url å’Œ API Key
- [ ] æ”¯æŒè‡ªå®šä¹‰æ¨¡å‹åˆ—è¡¨
- [ ] æ”¯æŒé¢å¤–å‚æ•°ï¼ˆextra_paramsï¼‰
- [ ] å®ç° validate_config() æµ‹è¯•è¿æ¥

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] å•å…ƒæµ‹è¯•ï¼šé…ç½®æ­£ç¡®è§£æ
- [ ] é›†æˆæµ‹è¯•ï¼šèƒ½è°ƒç”¨å…¼å®¹ OpenAI æ ¼å¼çš„æœåŠ¡

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`backend/app/adapters/custom.py`

---

#### 3.2.6 å›½å†…å‚å•†é€‚é…å™¨ï¼ˆå¯é€‰ä¼˜å…ˆçº§ä½ï¼‰â¬œ
**æè¿°**ï¼šå®ç°å›½å†…å‚å•† API è°ƒç”¨

**ä¾èµ–**ï¼š3.1.1 âœ”ï¸

**ä»»åŠ¡**ï¼š
- [ ] é˜¿é‡Œé€šä¹‰åƒé—®é€‚é…å™¨
- [ ] ç™¾åº¦æ–‡å¿ƒä¸€è¨€é€‚é…å™¨
- [ ] æ™ºè°± AI é€‚é…å™¨
- [ ] å…¶ä»–å‚å•†é€‚é…å™¨

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] å•å…ƒæµ‹è¯•ï¼ˆMockï¼‰ï¼šAPI è°ƒç”¨æ­£ç¡®
- [ ] é›†æˆæµ‹è¯•ï¼ˆéœ€è¦çœŸå® API Keyï¼‰ï¼šæˆåŠŸè°ƒç”¨

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š
```
backend/app/adapters/
â”œâ”€â”€ qwen.py
â”œâ”€â”€ ernie.py
â”œâ”€â”€ glm.py
â””â”€â”€ ...
```

---

### 3.3 LangChain é›†æˆ

#### 3.3.1 LangChain é€‚é…å™¨ â¬œ
**æè¿°**ï¼šå®ç° LangChain é›†æˆé€‚é…å™¨

**ä¾èµ–**ï¼š3.1.1 âœ”ï¸

**ä»»åŠ¡**ï¼š
- [ ] å®ç° LangChainAdapter ç±»
- [ ] æ”¯æŒå¤šä¸ªå‚å•†çš„ LangChain LLM
- [ ] å®ç°å¯¹è¯è®°å¿†ç®¡ç†
- [ ] å®ç° ConversationChain

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] å•å…ƒæµ‹è¯•ï¼šLLM åˆå§‹åŒ–æ­£ç¡®
- [ ] é›†æˆæµ‹è¯•ï¼šå¯¹è¯è®°å¿†æ­£å¸¸å·¥ä½œ

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`backend/app/adapters/langchain.py`

---

#### 3.3.2 LangChain æœåŠ¡å±‚ â¬œ
**æè¿°**ï¼šå®ç° LangChain ä¸šåŠ¡é€»è¾‘

**ä¾èµ–**ï¼š3.3.1 âœ”ï¸

**ä»»åŠ¡**ï¼š
- [ ] å®ç° LangChainService ç±»
- [ ] å®ç° get_llm() æ–¹æ³•
- [ ] å®ç° create_conversation_chain() æ–¹æ³•
- [ ] å®ç° chat_with_memory() æ–¹æ³•
- [ ] å®ç° LLM å’Œ Memory ç¼“å­˜

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] å•å…ƒæµ‹è¯•ï¼šæœåŠ¡æ–¹æ³•æ­£ç¡®
- [ ] é›†æˆæµ‹è¯•ï¼šå®Œæ•´å¯¹è¯æµç¨‹æ­£å¸¸

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`backend/app/services/langchain_service.py`

---

### 3.4 API å¯†é’¥ç®¡ç†

#### 3.4.1 API å¯†é’¥åŠ å¯† â¬œ
**æè¿°**ï¼šå®ç° API å¯†é’¥åŠ å¯†å­˜å‚¨

**ä»»åŠ¡**ï¼š
- [ ] å®ç° encrypt_api_key() å‡½æ•°
- [ ] å®ç° decrypt_api_key() å‡½æ•°
- [ ] ä½¿ç”¨ AES-256 åŠ å¯†
- [ ] å¯†é’¥ä»ç¯å¢ƒå˜é‡è¯»å–

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] å•å…ƒæµ‹è¯•ï¼šåŠ å¯†è§£å¯†æ­£ç¡®
- [ ] å•å…ƒæµ‹è¯•ï¼šåŠ å¯†åçš„å¯†é’¥æ— æ³•ç›´æ¥è¯»å–

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`backend/app/utils/encryption.py`

---

#### 3.4.2 API å¯†é’¥ CRUD æ¥å£ â¬œ
**æè¿°**ï¼šå®ç° API å¯†é’¥ç®¡ç†æ¥å£

**ä¾èµ–**ï¼š3.4.1 âœ”ï¸

**ä»»åŠ¡**ï¼š
- [ ] POST /api/llm/keys - æ·»åŠ å¯†é’¥
- [ ] GET /api/llm/keys - è·å–æ‰€æœ‰å¯†é’¥ï¼ˆéšè—æ•æ„Ÿä¿¡æ¯ï¼‰
- [ ] PUT /api/llm/keys/{id} - æ›´æ–°å¯†é’¥
- [ ] DELETE /api/llm/keys/{id} - åˆ é™¤å¯†é’¥
- [ ] POST /api/llm/keys/{id}/test - æµ‹è¯•è¿æ¥

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] é›†æˆæµ‹è¯•ï¼šæˆåŠŸæ·»åŠ å¯†é’¥
- [ ] é›†æˆæµ‹è¯•ï¼šå¯†é’¥åŠ å¯†å­˜å‚¨
- [ ] é›†æˆæµ‹è¯•ï¼šè·å–å¯†é’¥æ—¶æ•æ„Ÿä¿¡æ¯è¢«éšè—
- [ ] é›†æˆæµ‹è¯•ï¼šæµ‹è¯•è¿æ¥åŠŸèƒ½æ­£å¸¸

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`backend/app/api/llm.py`

---

#### 3.4.3 å‚å•†å’Œæ¨¡å‹åˆ—è¡¨æ¥å£ â¬œ
**æè¿°**ï¼šå®ç°è·å–å‚å•†å’Œæ¨¡å‹åˆ—è¡¨çš„æ¥å£

**ä»»åŠ¡**ï¼š
- [ ] GET /api/llm/providers - è·å–æ‰€æœ‰æ”¯æŒçš„å‚å•†
- [ ] GET /api/llm/models/{provider} - è·å–å‚å•†æ¨¡å‹åˆ—è¡¨
- [ ] GET /api/llm/ollama/models - è·å– Ollama æ¨¡å‹
- [ ] POST /api/llm/ollama/pull - ä¸‹è½½ Ollama æ¨¡å‹

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] é›†æˆæµ‹è¯•ï¼šæˆåŠŸè·å–å‚å•†åˆ—è¡¨
- [ ] é›†æˆæµ‹è¯•ï¼šæˆåŠŸè·å–æ¨¡å‹åˆ—è¡¨
- [ ] é›†æˆæµ‹è¯•ï¼šOllama æ¨¡å‹ä¸‹è½½æ­£å¸¸

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

### ğŸ¯ Milestone 3: LLM é€‚é…å™¨å®Œæˆ
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] è‡³å°‘ 3 ä¸ªä¸»è¦å‚å•†é€‚é…å™¨å®Œæˆï¼ˆOpenAIã€Claudeã€Ollamaï¼‰
- [ ] API å¯†é’¥ç®¡ç†åŠŸèƒ½å®Œæ•´
- [ ] èƒ½æˆåŠŸè°ƒç”¨ LLM å¹¶è·å–å“åº”
- [ ] æµå¼å“åº”æ­£å¸¸å·¥ä½œ
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡

---

## Phase 4: å¯¹è¯åŠŸèƒ½å®ç°ï¼ˆç¬¬ 6-7 å‘¨ï¼‰

### 4.1 åç«¯å¯¹è¯æ¥å£

#### 4.1.1 å¯¹è¯ CRUD æ¥å£ â¬œ
**æè¿°**ï¼šå®ç°å¯¹è¯ç®¡ç†æ¥å£

**ä»»åŠ¡**ï¼š
- [ ] POST /api/conversations - åˆ›å»ºå¯¹è¯
- [ ] GET /api/conversations - è·å–å¯¹è¯åˆ—è¡¨
- [ ] GET /api/conversations/{id} - è·å–å¯¹è¯è¯¦æƒ…
- [ ] PUT /api/conversations/{id} - æ›´æ–°å¯¹è¯
- [ ] DELETE /api/conversations/{id} - åˆ é™¤å¯¹è¯

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] é›†æˆæµ‹è¯•ï¼šæˆåŠŸåˆ›å»ºå¯¹è¯
- [ ] é›†æˆæµ‹è¯•ï¼šè·å–å¯¹è¯åˆ—è¡¨æ­£ç¡®
- [ ] é›†æˆæµ‹è¯•ï¼šæ›´æ–°å’Œåˆ é™¤å¯¹è¯æ­£å¸¸

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`backend/app/api/chat.py`

---

#### 4.1.2 æ¶ˆæ¯å‘é€æ¥å£ï¼ˆéæµå¼ï¼‰â¬œ
**æè¿°**ï¼šå®ç° POST /api/conversations/{id}/messages

**ä¾èµ–**ï¼šPhase 3 æ‰€æœ‰é€‚é…å™¨ âœ”ï¸

**ä»»åŠ¡**ï¼š
- [ ] æ¥æ”¶ç”¨æˆ·æ¶ˆæ¯
- [ ] æ ¹æ®å¯¹è¯é…ç½®é€‰æ‹© LLM é€‚é…å™¨
- [ ] è°ƒç”¨ LLM è·å–å“åº”
- [ ] ä¿å­˜ç”¨æˆ·æ¶ˆæ¯å’Œ AI å“åº”
- [ ] è¿”å›å“åº”

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] é›†æˆæµ‹è¯•ï¼šæˆåŠŸå‘é€æ¶ˆæ¯å¹¶è·å–å“åº”
- [ ] é›†æˆæµ‹è¯•ï¼šæ¶ˆæ¯æ­£ç¡®ä¿å­˜åˆ°æ•°æ®åº“
- [ ] é›†æˆæµ‹è¯•ï¼šToken ä½¿ç”¨é‡æ­£ç¡®è®°å½•

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

#### 4.1.3 æµå¼å“åº”æ¥å£ï¼ˆSSEï¼‰â¬œ
**æè¿°**ï¼šå®ç° POST /api/conversations/{id}/stream

**ä¾èµ–**ï¼š4.1.2 âœ”ï¸

**ä»»åŠ¡**ï¼š
- [ ] å®ç° SSEï¼ˆServer-Sent Eventsï¼‰
- [ ] æµå¼è°ƒç”¨ LLM é€‚é…å™¨
- [ ] é€ Token æ¨é€å“åº”
- [ ] å®Œæˆåä¿å­˜å®Œæ•´æ¶ˆæ¯

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] é›†æˆæµ‹è¯•ï¼šSSE è¿æ¥æ­£å¸¸å»ºç«‹
- [ ] é›†æˆæµ‹è¯•ï¼šæ•°æ®æµå¼æ¨é€
- [ ] é›†æˆæµ‹è¯•ï¼šè¿æ¥å¼‚å¸¸æ—¶æ­£ç¡®å¤„ç†

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

#### 4.1.4 æ¶ˆæ¯å†å²æ¥å£ â¬œ
**æè¿°**ï¼šå®ç° GET /api/conversations/{id}/messages

**ä»»åŠ¡**ï¼š
- [ ] è·å–å¯¹è¯çš„æ‰€æœ‰æ¶ˆæ¯
- [ ] æ”¯æŒåˆ†é¡µ
- [ ] æ”¯æŒæŒ‰æ—¶é—´æ’åº

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] é›†æˆæµ‹è¯•ï¼šæˆåŠŸè·å–æ¶ˆæ¯åˆ—è¡¨
- [ ] é›†æˆæµ‹è¯•ï¼šåˆ†é¡µæ­£å¸¸å·¥ä½œ

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

### 4.2 å‰ç«¯å¯¹è¯ç•Œé¢

#### 4.2.1 å¯¹è¯åˆ—è¡¨ä¾§è¾¹æ  â¬œ
**æè¿°**ï¼šå®ç° ConversationList ç»„ä»¶

**ä»»åŠ¡**ï¼š
- [ ] åˆ›å»ºå¯¹è¯åˆ—è¡¨ç»„ä»¶
- [ ] æŒ‰æ—¶é—´åˆ†ç»„ï¼ˆä»Šå¤©ã€æ˜¨å¤©ã€æ›´æ—©ï¼‰
- [ ] æœç´¢è¿‡æ»¤åŠŸèƒ½
- [ ] å³é”®èœå•ï¼ˆé‡å‘½åã€åˆ é™¤ã€å½’æ¡£ï¼‰
- [ ] æ–°å»ºå¯¹è¯æŒ‰é’®

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] UI æµ‹è¯•ï¼šåˆ—è¡¨æ­£ç¡®æ¸²æŸ“
- [ ] UI æµ‹è¯•ï¼šæœç´¢åŠŸèƒ½æ­£å¸¸
- [ ] UI æµ‹è¯•ï¼šå³é”®èœå•æ­£å¸¸

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`frontend/src/components/Chat/ConversationList.tsx`

---

#### 4.2.2 æ¶ˆæ¯å±•ç¤ºç»„ä»¶ â¬œ
**æè¿°**ï¼šå®ç° ChatMessage ç»„ä»¶

**ä»»åŠ¡**ï¼š
- [ ] åˆ›å»ºæ¶ˆæ¯ç»„ä»¶
- [ ] æ”¯æŒç”¨æˆ·æ¶ˆæ¯å’Œ AI æ¶ˆæ¯æ ·å¼
- [ ] Markdown æ¸²æŸ“ï¼ˆä½¿ç”¨ react-markdownï¼‰
- [ ] ä»£ç é«˜äº®ï¼ˆä½¿ç”¨ prismjsï¼‰
- [ ] å¤åˆ¶æŒ‰é’®
- [ ] é‡æ–°ç”ŸæˆæŒ‰é’®ï¼ˆé’ˆå¯¹ AI æ¶ˆæ¯ï¼‰

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] UI æµ‹è¯•ï¼šæ¶ˆæ¯æ­£ç¡®æ¸²æŸ“
- [ ] UI æµ‹è¯•ï¼šMarkdown æ­£ç¡®æ˜¾ç¤º
- [ ] UI æµ‹è¯•ï¼šä»£ç é«˜äº®æ­£å¸¸
- [ ] UI æµ‹è¯•ï¼šå¤åˆ¶åŠŸèƒ½æ­£å¸¸

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`frontend/src/components/Chat/ChatMessage.tsx`

---

#### 4.2.3 æ¶ˆæ¯åˆ—è¡¨ç»„ä»¶ â¬œ
**æè¿°**ï¼šå®ç° MessageList ç»„ä»¶

**ä»»åŠ¡**ï¼š
- [ ] åˆ›å»ºæ¶ˆæ¯åˆ—è¡¨å®¹å™¨
- [ ] è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨
- [ ] åŠ è½½æ›´å¤šå†å²æ¶ˆæ¯
- [ ] åŠ è½½çŠ¶æ€æ˜¾ç¤º

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] UI æµ‹è¯•ï¼šæ¶ˆæ¯åˆ—è¡¨æ­£ç¡®æ¸²æŸ“
- [ ] UI æµ‹è¯•ï¼šè‡ªåŠ¨æ»šåŠ¨æ­£å¸¸
- [ ] UI æµ‹è¯•ï¼šåˆ†é¡µåŠ è½½æ­£å¸¸

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`frontend/src/components/Chat/MessageList.tsx`

---

#### 4.2.4 æ¶ˆæ¯è¾“å…¥ç»„ä»¶ â¬œ
**æè¿°**ï¼šå®ç° ChatInput ç»„ä»¶

**ä»»åŠ¡**ï¼š
- [ ] åˆ›å»ºè¾“å…¥æ¡†ç»„ä»¶
- [ ] æ”¯æŒå¤šè¡Œè¾“å…¥
- [ ] Shift+Enter æ¢è¡Œï¼ŒEnter å‘é€
- [ ] æ¨¡å‹é€‰æ‹©ä¸‹æ‹‰æ¡†
- [ ] å‘é€æŒ‰é’®
- [ ] åœæ­¢ç”ŸæˆæŒ‰é’®
- [ ] Token è®¡æ•°æ˜¾ç¤ºï¼ˆå¯é€‰ï¼‰

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] UI æµ‹è¯•ï¼šè¾“å…¥æ¡†æ­£å¸¸å·¥ä½œ
- [ ] UI æµ‹è¯•ï¼šå¿«æ·é”®æ­£ç¡®
- [ ] UI æµ‹è¯•ï¼šæ¨¡å‹é€‰æ‹©æ­£å¸¸

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`frontend/src/components/Chat/ChatInput.tsx`

---

#### 4.2.5 ä¸»å¯¹è¯é¡µé¢ â¬œ
**æè¿°**ï¼šç»„åˆæ‰€æœ‰ç»„ä»¶å®ç°å®Œæ•´å¯¹è¯é¡µé¢

**ä¾èµ–**ï¼š4.2.1 âœ”ï¸, 4.2.2 âœ”ï¸, 4.2.3 âœ”ï¸, 4.2.4 âœ”ï¸

**ä»»åŠ¡**ï¼š
- [ ] åˆ›å»º Chat.tsx é¡µé¢
- [ ] ç»„åˆä¾§è¾¹æ å’Œå¯¹è¯åŒºåŸŸ
- [ ] å®ç°å¯¹è¯çŠ¶æ€ç®¡ç†
- [ ] å®ç°æ¶ˆæ¯å‘é€é€»è¾‘
- [ ] å®ç°æµå¼å“åº”æ¥æ”¶

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] E2E æµ‹è¯•ï¼šå®Œæ•´å¯¹è¯æµç¨‹æ­£å¸¸
- [ ] E2E æµ‹è¯•ï¼šæµå¼å“åº”æ­£ç¡®æ˜¾ç¤º

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`frontend/src/pages/Chat.tsx`

---

#### 4.2.6 æµå¼å“åº”å¤„ç† â¬œ
**æè¿°**ï¼šå®ç°å‰ç«¯ SSE æ¥æ”¶å’Œå¤„ç†

**ä»»åŠ¡**ï¼š
- [ ] åˆ›å»º useStream hook
- [ ] å»ºç«‹ SSE è¿æ¥
- [ ] æ¥æ”¶æµå¼æ•°æ®
- [ ] é€æ­¥æ›´æ–° UI
- [ ] å¤„ç†è¿æ¥é”™è¯¯

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] å•å…ƒæµ‹è¯•ï¼šSSE è¿æ¥å»ºç«‹æ­£ç¡®
- [ ] é›†æˆæµ‹è¯•ï¼šæµå¼æ•°æ®æ­£ç¡®å¤„ç†

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`frontend/src/hooks/useStream.ts`

---

### ğŸ¯ Milestone 4: å¯¹è¯åŠŸèƒ½å®Œæˆ
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] èƒ½åˆ›å»ºæ–°å¯¹è¯
- [ ] èƒ½å‘é€æ¶ˆæ¯å¹¶è·å–å“åº”
- [ ] æµå¼å“åº”æ­£å¸¸æ˜¾ç¤º
- [ ] æ¶ˆæ¯å†å²æ­£ç¡®ä¿å­˜å’Œæ˜¾ç¤º
- [ ] Markdown å’Œä»£ç é«˜äº®æ­£å¸¸
- [ ] UI æµç•…ï¼Œæ— æ˜æ˜¾å¡é¡¿
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡

---

## Phase 5: å†å²è®°å½•ä¸é«˜çº§åŠŸèƒ½ï¼ˆç¬¬ 8 å‘¨ï¼‰

### 5.1 å†å²è®°å½•åŠŸèƒ½

#### 5.1.1 å…¨æ–‡æœç´¢æ¥å£ â¬œ
**æè¿°**ï¼šå®ç° GET /api/history/search

**ä»»åŠ¡**ï¼š
- [ ] å®ç°æ¶ˆæ¯å…¨æ–‡æœç´¢
- [ ] æ”¯æŒå…³é”®è¯é«˜äº®
- [ ] æ”¯æŒæŒ‰å¯¹è¯è¿‡æ»¤
- [ ] æ”¯æŒæŒ‰æ—¶é—´èŒƒå›´è¿‡æ»¤

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] é›†æˆæµ‹è¯•ï¼šæœç´¢åŠŸèƒ½æ­£å¸¸
- [ ] é›†æˆæµ‹è¯•ï¼šå…³é”®è¯é«˜äº®æ­£ç¡®

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

#### 5.1.2 ç»Ÿè®¡ä¿¡æ¯æ¥å£ â¬œ
**æè¿°**ï¼šå®ç° GET /api/history/stats

**ä»»åŠ¡**ï¼š
- [ ] ç»Ÿè®¡å¯¹è¯æ€»æ•°
- [ ] ç»Ÿè®¡æ¶ˆæ¯æ€»æ•°
- [ ] ç»Ÿè®¡ Token ä½¿ç”¨é‡
- [ ] æŒ‰å‚å•†ç»Ÿè®¡ä½¿ç”¨æƒ…å†µ
- [ ] æŒ‰æ—¶é—´ç»Ÿè®¡

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] é›†æˆæµ‹è¯•ï¼šç»Ÿè®¡æ•°æ®æ­£ç¡®

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

#### 5.1.3 å¯¹è¯å¯¼å‡ºåŠŸèƒ½ â¬œ
**æè¿°**ï¼šå®ç° GET /api/history/export/{conversation_id}

**ä»»åŠ¡**ï¼š
- [ ] å¯¼å‡ºä¸º JSON æ ¼å¼
- [ ] å¯¼å‡ºä¸º Markdown æ ¼å¼
- [ ] åŒ…å«æ‰€æœ‰æ¶ˆæ¯å’Œå…ƒæ•°æ®

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] é›†æˆæµ‹è¯•ï¼šå¯¼å‡ºæ–‡ä»¶æ ¼å¼æ­£ç¡®
- [ ] é›†æˆæµ‹è¯•ï¼šå†…å®¹å®Œæ•´

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

### 5.2 é«˜çº§åŠŸèƒ½

#### 5.2.1 å¯¹è¯å½’æ¡£åŠŸèƒ½ â¬œ
**æè¿°**ï¼šå®ç°å¯¹è¯å½’æ¡£/å–æ¶ˆå½’æ¡£

**ä»»åŠ¡**ï¼š
- [ ] POST /api/conversations/{id}/archive
- [ ] POST /api/conversations/{id}/unarchive
- [ ] å½’æ¡£çš„å¯¹è¯ä¸æ˜¾ç¤ºåœ¨ä¸»åˆ—è¡¨

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] é›†æˆæµ‹è¯•ï¼šå½’æ¡£åŠŸèƒ½æ­£å¸¸

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

#### 5.2.2 ç³»ç»Ÿæç¤ºè¯ç®¡ç† â¬œ
**æè¿°**ï¼šå®ç°è‡ªå®šä¹‰ç³»ç»Ÿæç¤ºè¯

**ä»»åŠ¡**ï¼š
- [ ] å¯¹è¯åˆ›å»ºæ—¶æ”¯æŒè®¾ç½® system_prompt
- [ ] æä¾›é¢„è®¾æç¤ºè¯æ¨¡æ¿
- [ ] æ”¯æŒä¿å­˜å¸¸ç”¨æç¤ºè¯

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] é›†æˆæµ‹è¯•ï¼šç³»ç»Ÿæç¤ºè¯ç”Ÿæ•ˆ
- [ ] UI æµ‹è¯•ï¼šæç¤ºè¯é€‰æ‹©æ­£å¸¸

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

#### 5.2.3 æ¨¡å‹å‚æ•°é…ç½® â¬œ
**æè¿°**ï¼šæ”¯æŒé…ç½®æ¨¡å‹å‚æ•°

**ä»»åŠ¡**ï¼š
- [ ] æ”¯æŒé…ç½® temperature
- [ ] æ”¯æŒé…ç½® top_p
- [ ] æ”¯æŒé…ç½® max_tokens
- [ ] æ”¯æŒé…ç½® presence_penalty
- [ ] æ”¯æŒé…ç½® frequency_penalty

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] é›†æˆæµ‹è¯•ï¼šå‚æ•°æ­£ç¡®ä¼ é€’ç»™ LLM
- [ ] UI æµ‹è¯•ï¼šå‚æ•°é…ç½®ç•Œé¢æ­£å¸¸

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

#### 5.2.4 å‰ç«¯æœç´¢å’Œç»Ÿè®¡é¡µé¢ â¬œ
**æè¿°**ï¼šå®ç°æœç´¢å’Œç»Ÿè®¡ UI

**ä»»åŠ¡**ï¼š
- [ ] åˆ›å»ºæœç´¢é¡µé¢
- [ ] åˆ›å»ºç»Ÿè®¡é¢æ¿
- [ ] æ•°æ®å¯è§†åŒ–ï¼ˆå›¾è¡¨ï¼‰

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] UI æµ‹è¯•ï¼šæœç´¢ç•Œé¢æ­£å¸¸
- [ ] UI æµ‹è¯•ï¼šç»Ÿè®¡å›¾è¡¨æ­£ç¡®

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

### ğŸ¯ Milestone 5: å†å²è®°å½•ä¸é«˜çº§åŠŸèƒ½å®Œæˆ
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] æœç´¢åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] ç»Ÿè®¡ä¿¡æ¯å‡†ç¡®
- [ ] å¯¼å‡ºåŠŸèƒ½æ­£å¸¸
- [ ] å½’æ¡£åŠŸèƒ½æ­£å¸¸
- [ ] é«˜çº§å‚æ•°é…ç½®ç”Ÿæ•ˆ

---

## Phase 6: n8n å·¥ä½œæµé›†æˆï¼ˆç¬¬ 8 å‘¨ï¼‰

### 6.1 n8n æœåŠ¡é…ç½®

#### 6.1.1 Docker Compose é…ç½® â¬œ
**æè¿°**ï¼šåœ¨ docker-compose.yml ä¸­æ·»åŠ  n8n æœåŠ¡

**ä»»åŠ¡**ï¼š
- [ ] æ·»åŠ  n8n æœåŠ¡é…ç½®
- [ ] é…ç½®ç¯å¢ƒå˜é‡
- [ ] é…ç½®æ•°æ®å·
- [ ] é…ç½®ç½‘ç»œ

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] é›†æˆæµ‹è¯•ï¼šn8n å®¹å™¨æ­£å¸¸å¯åŠ¨
- [ ] é›†æˆæµ‹è¯•ï¼šèƒ½è®¿é—® n8n Web UI

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

#### 6.1.2 n8n API æ¥å£ â¬œ
**æè¿°**ï¼šå®ç° n8n ä¸“ç”¨ API æ¥å£

**ä»»åŠ¡**ï¼š
- [ ] POST /api/n8n/chat - å•æ¬¡è°ƒç”¨
- [ ] POST /api/n8n/batch-chat - æ‰¹é‡è°ƒç”¨
- [ ] GET /api/n8n/providers - è·å–å‚å•†åˆ—è¡¨
- [ ] POST /api/n8n/webhook/{conversation_id} - Webhook

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] é›†æˆæµ‹è¯•ï¼šAPI æ­£å¸¸å·¥ä½œ
- [ ] é›†æˆæµ‹è¯•ï¼šä» n8n èƒ½è°ƒç”¨ API

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`backend/app/api/n8n.py`

---

#### 6.1.3 n8n Token è®¤è¯ â¬œ
**æè¿°**ï¼šä¸º n8n API æ·»åŠ  Token è®¤è¯

**ä»»åŠ¡**ï¼š
- [ ] å®ç° verify_n8n_token() ä¸­é—´ä»¶
- [ ] é…ç½®ç¯å¢ƒå˜é‡ N8N_API_TOKEN
- [ ] æ·»åŠ è®¤è¯è£…é¥°å™¨

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] é›†æˆæµ‹è¯•ï¼šæœ‰æ•ˆ Token é€šè¿‡è®¤è¯
- [ ] é›†æˆæµ‹è¯•ï¼šæ— æ•ˆ Token è¢«æ‹’ç»

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

### 6.2 n8n å·¥ä½œæµæ¨¡æ¿

#### 6.2.1 åˆ›å»ºå·¥ä½œæµæ¨¡æ¿ â¬œ
**æè¿°**ï¼šåˆ›å»ºé¢„ç½®å·¥ä½œæµæ¨¡æ¿

**ä»»åŠ¡**ï¼š
- [ ] æ¯æ—¥ AI æ‘˜è¦æ¨¡æ¿
- [ ] Webhook è§¦å‘å¯¹è¯æ¨¡æ¿
- [ ] å¤šæ¨¡å‹å¯¹æ¯”æ¨¡æ¿
- [ ] æ‰¹é‡å¤„ç†æ¨¡æ¿
- [ ] å†…å®¹å®¡æ ¸æ¨¡æ¿

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] æ‰‹åŠ¨æµ‹è¯•ï¼šæ¯ä¸ªæ¨¡æ¿èƒ½æ­£å¸¸å¯¼å…¥
- [ ] æ‰‹åŠ¨æµ‹è¯•ï¼šå·¥ä½œæµèƒ½æ­£å¸¸æ‰§è¡Œ

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`n8n/workflows/*.json`

---

#### 6.2.2 å·¥ä½œæµæ–‡æ¡£ â¬œ
**æè¿°**ï¼šç¼–å†™å·¥ä½œæµä½¿ç”¨æ–‡æ¡£

**ä»»åŠ¡**ï¼š
- [ ] åˆ›å»º n8n/workflows/README.md
- [ ] è¯´æ˜æ¯ä¸ªæ¨¡æ¿çš„ç”¨é€”
- [ ] æä¾›é…ç½®æŒ‡å—
- [ ] æä¾›æœ€ä½³å®è·µ

**å®Œæˆæ ‡å‡†**ï¼šâœ… å·²å®Œæˆ

---

### 6.3 å‰ç«¯ n8n é›†æˆ

#### 6.3.1 å·¥ä½œæµç®¡ç†é¡µé¢ â¬œ
**æè¿°**ï¼šåˆ›å»ºå·¥ä½œæµç®¡ç†é¡µé¢

**ä»»åŠ¡**ï¼š
- [ ] åˆ›å»º Workflows.tsx é¡µé¢
- [ ] æ·»åŠ "æ‰“å¼€ n8n ç¼–è¾‘å™¨"æŒ‰é’®
- [ ] æ˜¾ç¤ºå·¥ä½œæµæ¨¡æ¿åˆ—è¡¨
- [ ] æ·»åŠ ä½¿ç”¨è¯´æ˜

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] UI æµ‹è¯•ï¼šé¡µé¢æ­£å¸¸æ¸²æŸ“
- [ ] UI æµ‹è¯•ï¼šèƒ½æ‰“å¼€ n8n ç¼–è¾‘å™¨

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`frontend/src/pages/Workflows/index.tsx`

---

### ğŸ¯ Milestone 6: n8n å·¥ä½œæµé›†æˆå®Œæˆ
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] n8n æœåŠ¡æ­£å¸¸è¿è¡Œ
- [ ] èƒ½ä» n8n è°ƒç”¨ LLM API
- [ ] è‡³å°‘ 3 ä¸ªå·¥ä½œæµæ¨¡æ¿å¯ç”¨
- [ ] å‰ç«¯å·¥ä½œæµé¡µé¢æ­£å¸¸

---

## Phase 7: æµ‹è¯•ä¸ä¼˜åŒ–ï¼ˆç¬¬ 9 å‘¨ï¼‰

### 7.1 æµ‹è¯•è¦†ç›–

#### 7.1.1 åç«¯å•å…ƒæµ‹è¯• â¬œ
**æè¿°**ï¼šç¼–å†™åç«¯å•å…ƒæµ‹è¯•

**ä»»åŠ¡**ï¼š
- [ ] æµ‹è¯•å·¥å…·å‡½æ•°
- [ ] æµ‹è¯• Schema éªŒè¯
- [ ] æµ‹è¯•é€‚é…å™¨é€»è¾‘
- [ ] æµ‹è¯•æœåŠ¡å±‚é€»è¾‘
- [ ] ç›®æ ‡è¦†ç›–ç‡ï¼š>70%

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] è¿è¡Œ pytestï¼Œæ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] è¦†ç›–ç‡æŠ¥å‘Šè¾¾æ ‡

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

#### 7.1.2 åç«¯é›†æˆæµ‹è¯• â¬œ
**æè¿°**ï¼šç¼–å†™åç«¯é›†æˆæµ‹è¯•

**ä»»åŠ¡**ï¼š
- [ ] æµ‹è¯•è®¤è¯æµç¨‹
- [ ] æµ‹è¯•å¯¹è¯æµç¨‹
- [ ] æµ‹è¯• API å¯†é’¥ç®¡ç†
- [ ] æµ‹è¯• LLM è°ƒç”¨ï¼ˆMockï¼‰

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] è¿è¡Œ pytestï¼Œæ‰€æœ‰æµ‹è¯•é€šè¿‡

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

#### 7.1.3 å‰ç«¯å•å…ƒæµ‹è¯• â¬œ
**æè¿°**ï¼šç¼–å†™å‰ç«¯å•å…ƒæµ‹è¯•

**ä»»åŠ¡**ï¼š
- [ ] æµ‹è¯•å·¥å…·å‡½æ•°
- [ ] æµ‹è¯• Store é€»è¾‘
- [ ] æµ‹è¯• Hook
- [ ] ç›®æ ‡è¦†ç›–ç‡ï¼š>60%

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] è¿è¡Œ npm testï¼Œæ‰€æœ‰æµ‹è¯•é€šè¿‡

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

#### 7.1.4 E2E æµ‹è¯• â¬œ
**æè¿°**ï¼šç¼–å†™ç«¯åˆ°ç«¯æµ‹è¯•

**ä»»åŠ¡**ï¼š
- [ ] æµ‹è¯•ç”¨æˆ·æ³¨å†Œç™»å½•æµç¨‹
- [ ] æµ‹è¯•å®Œæ•´å¯¹è¯æµç¨‹
- [ ] æµ‹è¯• API å¯†é’¥ç®¡ç†æµç¨‹
- [ ] ä½¿ç”¨ Playwright æˆ– Cypress

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] E2E æµ‹è¯•å…¨éƒ¨é€šè¿‡

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

### 7.2 æ€§èƒ½ä¼˜åŒ–

#### 7.2.1 å‰ç«¯æ€§èƒ½ä¼˜åŒ– â¬œ
**æè¿°**ï¼šä¼˜åŒ–å‰ç«¯æ€§èƒ½

**ä»»åŠ¡**ï¼š
- [ ] ç»„ä»¶æ‡’åŠ è½½
- [ ] è™šæ‹Ÿæ»šåŠ¨ï¼ˆé•¿æ¶ˆæ¯åˆ—è¡¨ï¼‰
- [ ] å›¾ç‰‡æ‡’åŠ è½½
- [ ] ä»£ç åˆ†å‰²
- [ ] æ‰“åŒ…ä¼˜åŒ–

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] Lighthouse æ€§èƒ½è¯„åˆ† >90
- [ ] é¦–å±åŠ è½½æ—¶é—´ <2s

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

#### 7.2.2 åç«¯æ€§èƒ½ä¼˜åŒ– â¬œ
**æè¿°**ï¼šä¼˜åŒ–åç«¯æ€§èƒ½

**ä»»åŠ¡**ï¼š
- [ ] æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
- [ ] æ·»åŠ ç´¢å¼•
- [ ] å®ç°ç¼“å­˜ï¼ˆå¯é€‰ï¼šRedisï¼‰
- [ ] è¿æ¥æ± é…ç½®
- [ ] å¼‚æ­¥ä¼˜åŒ–

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] API å“åº”æ—¶é—´ <200msï¼ˆä¸å« LLM è°ƒç”¨ï¼‰
- [ ] æ”¯æŒè‡³å°‘ 100 ä¸ªå¹¶å‘ç”¨æˆ·

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

#### 7.2.3 LLM è°ƒç”¨ä¼˜åŒ– â¬œ
**æè¿°**ï¼šä¼˜åŒ– LLM è°ƒç”¨æ€§èƒ½

**ä»»åŠ¡**ï¼š
- [ ] å®ç°è¯·æ±‚é‡è¯•
- [ ] å®ç°è¶…æ—¶æ§åˆ¶
- [ ] å®ç°é”™è¯¯å¤„ç†
- [ ] å®ç°å“åº”ç¼“å­˜ï¼ˆå¯é€‰ï¼‰

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] æµå¼å“åº”å»¶è¿Ÿ <100ms

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

### 7.3 é”™è¯¯å¤„ç†å’Œæ—¥å¿—

#### 7.3.1 å®Œå–„é”™è¯¯å¤„ç† â¬œ
**æè¿°**ï¼šå®Œå–„å…¨å±€é”™è¯¯å¤„ç†

**ä»»åŠ¡**ï¼š
- [ ] åç«¯å…¨å±€å¼‚å¸¸å¤„ç†
- [ ] å‰ç«¯å…¨å±€é”™è¯¯è¾¹ç•Œ
- [ ] ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º
- [ ] é”™è¯¯æ—¥å¿—è®°å½•

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] å„ç§é”™è¯¯åœºæ™¯æ­£ç¡®å¤„ç†
- [ ] é”™è¯¯ä¿¡æ¯æ¸…æ™°

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

#### 7.3.2 æ—¥å¿—å®Œå–„ â¬œ
**æè¿°**ï¼šå®Œå–„æ—¥å¿—ç³»ç»Ÿ

**ä»»åŠ¡**ï¼š
- [ ] è¯·æ±‚æ—¥å¿—
- [ ] é”™è¯¯æ—¥å¿—
- [ ] LLM è°ƒç”¨æ—¥å¿—
- [ ] æ—¥å¿—è½®è½¬
- [ ] æ•æ„Ÿä¿¡æ¯è„±æ•

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] æ—¥å¿—æ ¼å¼æ­£ç¡®
- [ ] æ—¥å¿—çº§åˆ«æ­£ç¡®
- [ ] ä¸è®°å½•æ•æ„Ÿä¿¡æ¯

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

### ğŸ¯ Milestone 7: æµ‹è¯•ä¸ä¼˜åŒ–å®Œæˆ
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] æµ‹è¯•è¦†ç›–ç‡è¾¾æ ‡
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] æ€§èƒ½æŒ‡æ ‡è¾¾æ ‡
- [ ] é”™è¯¯å¤„ç†å®Œå–„
- [ ] æ—¥å¿—ç³»ç»Ÿå®Œå–„

---

## Phase 8: Docker åŒ–ä¸æ–‡æ¡£ï¼ˆç¬¬ 10 å‘¨ï¼‰

### 8.1 Docker é…ç½®

#### 8.1.1 åç«¯ Dockerfile â¬œ
**æè¿°**ï¼šåˆ›å»ºåç«¯ Dockerfile

**ä»»åŠ¡**ï¼š
- [ ] ç¼–å†™ Dockerfile.backend
- [ ] å¤šé˜¶æ®µæ„å»º
- [ ] ä¼˜åŒ–é•œåƒå¤§å°
- [ ] é…ç½®å¯åŠ¨è„šæœ¬

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] Docker é•œåƒæ„å»ºæˆåŠŸ
- [ ] å®¹å™¨æ­£å¸¸è¿è¡Œ

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`docker/Dockerfile.backend`

---

#### 8.1.2 å‰ç«¯ Dockerfile â¬œ
**æè¿°**ï¼šåˆ›å»ºå‰ç«¯ Dockerfile

**ä»»åŠ¡**ï¼š
- [ ] ç¼–å†™ Dockerfile.frontend
- [ ] å¤šé˜¶æ®µæ„å»º
- [ ] Nginx é…ç½®
- [ ] ä¼˜åŒ–é•œåƒå¤§å°

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] Docker é•œåƒæ„å»ºæˆåŠŸ
- [ ] å®¹å™¨æ­£å¸¸è¿è¡Œ
- [ ] Nginx é…ç½®æ­£ç¡®

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

**æ–‡ä»¶ä½ç½®**ï¼š`docker/Dockerfile.frontend`

---

#### 8.1.3 Docker Compose å®Œå–„ â¬œ
**æè¿°**ï¼šå®Œå–„ docker-compose.yml

**ä»»åŠ¡**ï¼š
- [ ] é…ç½®æ‰€æœ‰æœåŠ¡ï¼ˆbackend, frontend, n8n, ollamaï¼‰
- [ ] é…ç½®ç½‘ç»œ
- [ ] é…ç½®æ•°æ®å·
- [ ] é…ç½®ç¯å¢ƒå˜é‡
- [ ] é…ç½®å¥åº·æ£€æŸ¥
- [ ] é…ç½®èµ„æºé™åˆ¶

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] ä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼š`docker-compose up -d`
- [ ] æ‰€æœ‰æœåŠ¡æ­£å¸¸è¿è¡Œ
- [ ] æœåŠ¡é—´é€šä¿¡æ­£å¸¸

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

#### 8.1.4 ç¯å¢ƒå˜é‡é…ç½® â¬œ
**æè¿°**ï¼šå®Œå–„ç¯å¢ƒå˜é‡é…ç½®

**ä»»åŠ¡**ï¼š
- [ ] å®Œå–„ backend/.env.example
- [ ] å®Œå–„ frontend/.env.example
- [ ] ç¼–å†™é…ç½®è¯´æ˜æ–‡æ¡£

**å®Œæˆæ ‡å‡†**ï¼šâœ… å·²å®Œæˆ

---

### 8.2 æ–‡æ¡£ç¼–å†™

#### 8.2.1 README.md â¬œ
**æè¿°**ï¼šå®Œå–„é¡¹ç›® README

**ä»»åŠ¡**ï¼š
- [ ] é¡¹ç›®ä»‹ç»
- [ ] åŠŸèƒ½ç‰¹ç‚¹
- [ ] å¿«é€Ÿå¼€å§‹
- [ ] æŠ€æœ¯æ ˆ
- [ ] æˆªå›¾/æ¼”ç¤ºè§†é¢‘

**å®Œæˆæ ‡å‡†**ï¼šâœ… å·²å®Œæˆ

---

#### 8.2.2 éƒ¨ç½²æ–‡æ¡£ â¬œ
**æè¿°**ï¼šç¼–å†™éƒ¨ç½²æ–‡æ¡£

**ä»»åŠ¡**ï¼š
- [ ] Docker éƒ¨ç½²æŒ‡å—
- [ ] æœ¬åœ°å¼€å‘æŒ‡å—
- [ ] ç¯å¢ƒå˜é‡è¯´æ˜
- [ ] æ•…éšœæ’æŸ¥æŒ‡å—

**å®Œæˆæ ‡å‡†**ï¼šâœ… å·²å®Œæˆ

---

#### 8.2.3 API æ–‡æ¡£ â¬œ
**æè¿°**ï¼šå®Œå–„ API æ–‡æ¡£

**ä»»åŠ¡**ï¼š
- [ ] ç¡®ä¿ Swagger æ–‡æ¡£å®Œæ•´
- [ ] æ·»åŠ  API ä½¿ç”¨ç¤ºä¾‹
- [ ] æ·»åŠ é”™è¯¯ç è¯´æ˜

**æµ‹è¯•è¦æ±‚**ï¼š
- [ ] è®¿é—® /docs æŸ¥çœ‹æ–‡æ¡£å®Œæ•´

**å®Œæˆæ ‡å‡†**ï¼šâœ”ï¸ å·²æµ‹è¯•

---

#### 8.2.4 ç”¨æˆ·æ‰‹å†Œ â¬œ
**æè¿°**ï¼šç¼–å†™ç”¨æˆ·ä½¿ç”¨æ‰‹å†Œ

**ä»»åŠ¡**ï¼š
- [ ] æ³¨å†Œå’Œç™»å½•æŒ‡å—
- [ ] å¯¹è¯åŠŸèƒ½ä½¿ç”¨
- [ ] API å¯†é’¥é…ç½®
- [ ] n8n å·¥ä½œæµä½¿ç”¨
- [ ] å¸¸è§é—®é¢˜

**å®Œæˆæ ‡å‡†**ï¼šâœ… å·²å®Œæˆ

---

### ğŸ¯ Milestone 8: Docker åŒ–ä¸æ–‡æ¡£å®Œæˆ
**éªŒæ”¶æ ‡å‡†**ï¼š
- [ ] Docker é•œåƒæ„å»ºæˆåŠŸ
- [ ] docker-compose ä¸€é”®å¯åŠ¨æˆåŠŸ
- [ ] æ‰€æœ‰æ–‡æ¡£å®Œå–„
- [ ] é¡¹ç›®å¯ä»¥äº¤ä»˜ä½¿ç”¨

---

## ğŸ‰ Final Milestone: é¡¹ç›®å®Œæˆ

### æœ€ç»ˆéªŒæ”¶æ¸…å•

#### åŠŸèƒ½éªŒæ”¶ âœ”ï¸
- [ ] ç”¨æˆ·èƒ½æ³¨å†Œå’Œç™»å½•
- [ ] ç”¨æˆ·èƒ½é…ç½® API å¯†é’¥ï¼ˆè‡³å°‘æ”¯æŒ 3 ä¸ªå‚å•†ï¼‰
- [ ] ç”¨æˆ·èƒ½åˆ›å»ºå¯¹è¯
- [ ] ç”¨æˆ·èƒ½å‘é€æ¶ˆæ¯å¹¶è·å¾—å“åº”
- [ ] æµå¼å“åº”æ­£å¸¸å·¥ä½œ
- [ ] æ¶ˆæ¯å†å²æ­£ç¡®ä¿å­˜
- [ ] æœç´¢åŠŸèƒ½æ­£å¸¸
- [ ] å¯¹è¯å¯¼å‡ºåŠŸèƒ½æ­£å¸¸
- [ ] n8n å·¥ä½œæµèƒ½æ­£å¸¸è°ƒç”¨ LLM API
- [ ] Ollama æœ¬åœ°æ¨¡å‹èƒ½æ­£å¸¸ä½¿ç”¨

#### æ€§èƒ½éªŒæ”¶ âœ”ï¸
- [ ] API å“åº”æ—¶é—´ <200msï¼ˆä¸å« LLM è°ƒç”¨ï¼‰
- [ ] é¦–å±åŠ è½½æ—¶é—´ <2s
- [ ] æµå¼å“åº”å»¶è¿Ÿ <100ms
- [ ] æ”¯æŒè‡³å°‘ 100 ä¸ªå¹¶å‘ç”¨æˆ·

#### æµ‹è¯•éªŒæ”¶ âœ”ï¸
- [ ] åç«¯å•å…ƒæµ‹è¯•è¦†ç›–ç‡ >70%
- [ ] å‰ç«¯å•å…ƒæµ‹è¯•è¦†ç›–ç‡ >60%
- [ ] æ‰€æœ‰é›†æˆæµ‹è¯•é€šè¿‡
- [ ] E2E æµ‹è¯•é€šè¿‡

#### éƒ¨ç½²éªŒæ”¶ âœ”ï¸
- [ ] Docker é•œåƒæ„å»ºæˆåŠŸ
- [ ] docker-compose up -d æˆåŠŸå¯åŠ¨
- [ ] æ‰€æœ‰æœåŠ¡å¥åº·æ£€æŸ¥é€šè¿‡
- [ ] èƒ½é€šè¿‡æµè§ˆå™¨æ­£å¸¸è®¿é—®

#### æ–‡æ¡£éªŒæ”¶ âœ”ï¸
- [ ] README.md å®Œæ•´
- [ ] å¼€å‘æ–‡æ¡£å®Œæ•´
- [ ] API æ–‡æ¡£å®Œæ•´
- [ ] éƒ¨ç½²æ–‡æ¡£å®Œæ•´
- [ ] ç”¨æˆ·æ‰‹å†Œå®Œæ•´

---

## é™„å½•

### A. å¼€å‘ç¯å¢ƒè¦æ±‚

**å¿…éœ€è½¯ä»¶**ï¼š
- Node.js 18+
- Python 3.10+
- Docker 20+
- Docker Compose 2+
- Git

**æ¨èè½¯ä»¶**ï¼š
- VS Code
- Postmanï¼ˆAPI æµ‹è¯•ï¼‰
- TablePlusï¼ˆæ•°æ®åº“ç®¡ç†ï¼‰

### B. å¼€å‘è§„èŒƒ

**Git æäº¤è§„èŒƒ**ï¼š
```
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤
docs: æ–‡æ¡£
style: æ ¼å¼
refactor: é‡æ„
test: æµ‹è¯•
chore: æ„å»º/å·¥å…·
```

**åˆ†æ”¯ç­–ç•¥**ï¼š
- main: ä¸»åˆ†æ”¯
- develop: å¼€å‘åˆ†æ”¯
- feature/*: åŠŸèƒ½åˆ†æ”¯
- hotfix/*: ç´§æ€¥ä¿®å¤

### C. æµ‹è¯•å‘½ä»¤

**åç«¯æµ‹è¯•**ï¼š
```bash
cd backend
pytest                          # è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest --cov=app               # æµ‹è¯• + è¦†ç›–ç‡
pytest tests/test_auth.py      # è¿è¡Œç‰¹å®šæµ‹è¯•
```

**å‰ç«¯æµ‹è¯•**ï¼š
```bash
cd frontend
npm test                       # è¿è¡Œå•å…ƒæµ‹è¯•
npm run test:e2e              # è¿è¡Œ E2E æµ‹è¯•
```

### D. å¯åŠ¨å‘½ä»¤

**å¼€å‘ç¯å¢ƒ**ï¼š
```bash
# åç«¯
cd backend
source venv/bin/activate
uvicorn main:app --reload

# å‰ç«¯
cd frontend
npm run dev
```

**ç”Ÿäº§ç¯å¢ƒ**ï¼š
```bash
docker-compose up -d
```

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**æœ€åæ›´æ–°**: 2025-12-15
**çŠ¶æ€**: å¼€å‘ä¸­
